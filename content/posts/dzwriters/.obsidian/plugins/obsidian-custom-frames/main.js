/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// src/main.ts
__export(exports, {
  default: () => CustomFramesPlugin
});
var import_obsidian3 = __toModule(require("obsidian"));

// src/settings.ts
var defaultSettings = {
  frames: [],
  padding: 5
};
var presets = {
  "obsidian": {
    url: "https://forum.obsidian.md/",
    displayName: "Obsidian Forum",
    icon: "edit",
    hideOnMobile: true,
    zoomLevel: 1,
    customCss: ""
  },
  "calendar": {
    url: "https://calendar.google.com/calendar/u/0/r/day",
    displayName: "Google Calendar",
    icon: "calendar",
    hideOnMobile: true,
    zoomLevel: 1,
    customCss: `/* hide right-side menu, and some buttons */
div.d6McF,
div.pw6cBb,
div.gb_Td.gb_Va.gb_Id,
div.Kk7lMc-QWPxkf-LgbsSe-haAclf,
div.h8Aqhb,
div.gboEAb,
div.dwlvNd {
    display: none !important;
}`
  },
  "keep": {
    url: "https://keep.google.com",
    displayName: "Google Keep",
    icon: "files",
    hideOnMobile: true,
    zoomLevel: 1,
    customCss: `/* hide the menu bar and the "Keep" text */
html > body > div:nth-child(2) > div:nth-child(2) > div:first-child, 
html > body > div:first-child > header:first-child > div > div:first-child > div > div:first-child > a:first-child > span { 
	display: none !important; 
}`
  },
  "todoist": {
    url: "https://todoist.com",
    displayName: "Todoist",
    icon: "list-checks",
    hideOnMobile: true,
    zoomLevel: 1,
    customCss: `/* hide the help, home, search, and productivity overview buttons, create extra space, and prevent toast pop-up from acting weird */
[aria-label="Go to Home view"], #quick_find, [aria-label="Productivity"], [aria-label="Help & Feedback"] {
	display: none !important;
}

.view_content {
	padding-left: 15px;
}

.view_header {
	padding-left: 15px;
	padding-top: 10px;
}

.undo_toast {
	width: 95%;
}`
  },
  "notion": {
    url: "https://www.notion.so/",
    displayName: "Notion",
    icon: "box",
    hideOnMobile: true,
    zoomLevel: 1,
    customCss: ""
  },
  "twitter": {
    url: "https://twitter.com",
    displayName: "Twitter",
    icon: "twitter",
    hideOnMobile: true,
    zoomLevel: 1,
    customCss: ""
  }
};

// src/settings-tab.ts
var import_obsidian = __toModule(require("obsidian"));
var CustomFramesSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    this.containerEl.empty();
    this.containerEl.createEl("h2", { text: "Custom Frames Settings" });
    this.containerEl.createEl("p", { text: "Note that Obsidian has to be restarted or reloaded for most of these settings to take effect.", cls: "mod-warning" });
    new import_obsidian.Setting(this.containerEl).setName("Frame Padding").setDesc(createFragment((f) => {
      f.createSpan({ text: "The padding that should be left around the inside of custom frame panes, in pixels." });
      f.createEl("br");
      f.createEl("em", { text: "Note that decreasing this padding too much will increase the likelihood of a " });
      f.createEl("a", { text: "known issue", href: "https://github.com/Ellpeck/ObsidianCustomFrames#%EF%B8%8F-known-issues" });
      f.createEl("em", { text: "." });
    })).addText((t) => {
      t.inputEl.type = "number";
      t.setValue(String(this.plugin.settings.padding));
      t.onChange((v) => __async(this, null, function* () {
        this.plugin.settings.padding = v.length ? Number(v) : defaultSettings.padding;
        yield this.plugin.saveSettings();
      }));
    });
    for (let frame of this.plugin.settings.frames) {
      let heading = this.containerEl.createEl("h3", { text: frame.displayName || "Unnamed Frame" });
      let toggle = new import_obsidian.ButtonComponent(this.containerEl).setButtonText("Show Settings").setClass("custom-frames-show").onClick(() => __async(this, null, function* () {
        content.hidden = !content.hidden;
        toggle.setButtonText(content.hidden ? "Show Settings" : "Hide Settings");
      }));
      let content = this.containerEl.createDiv();
      content.hidden = true;
      new import_obsidian.Setting(content).setName("Display Name").setDesc("The display name that this frame should have.").addText((t) => {
        t.setValue(frame.displayName);
        t.onChange((v) => __async(this, null, function* () {
          frame.displayName = v;
          heading.setText(frame.displayName || "Unnamed Frame");
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian.Setting(content).setName("Icon").setDesc(createFragment((f) => {
        f.createSpan({ text: "The icon that this frame's pane should have. The names of any " });
        f.createEl("a", { text: "Lucide icons", href: "https://lucide.dev/" });
        f.createSpan({ text: " can be used." });
      })).addText((t) => {
        t.setValue(frame.icon);
        t.onChange((v) => __async(this, null, function* () {
          frame.icon = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian.Setting(content).setName("URL").setDesc("The URL that should be opened in this frame.").addText((t) => {
        t.setValue(frame.url);
        t.onChange((v) => __async(this, null, function* () {
          frame.url = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian.Setting(content).setName("Disable on Mobile").setDesc("Custom Frames is a lot more restricted on mobile devices and doesn't allow for the same types of content to be displayed. If a frame doesn't work as expected on mobile, it can be disabled.").addToggle((t) => {
        t.setValue(frame.hideOnMobile);
        t.onChange((v) => __async(this, null, function* () {
          frame.hideOnMobile = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian.Setting(content).setName("Page Zoom").setDesc("The zoom that this frame's page should be displayed with, as a percentage.").addText((t) => {
        t.inputEl.type = "number";
        t.setValue(String(frame.zoomLevel * 100));
        t.onChange((v) => __async(this, null, function* () {
          frame.zoomLevel = v.length ? Number(v) / 100 : 1;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian.Setting(content).setName("Additional CSS").setDesc(createFragment((f) => {
        f.createSpan({ text: "A snippet of additional CSS that should be applied to this frame." });
        f.createEl("br");
        f.createEl("em", { text: "Note that this is only applied on Desktop." });
      })).addTextArea((t) => {
        t.inputEl.rows = 5;
        t.inputEl.cols = 50;
        t.setValue(frame.customCss);
        t.onChange((v) => __async(this, null, function* () {
          frame.customCss = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian.ButtonComponent(content).setButtonText("Remove Frame").onClick(() => __async(this, null, function* () {
        this.plugin.settings.frames.remove(frame);
        yield this.plugin.saveSettings();
        this.display();
      }));
    }
    this.containerEl.createEl("hr");
    let info = this.containerEl.createEl("p", { text: `Create a new frame, either from a preset shipped with the plugin, or a custom one that you can edit yourself. Each frame's pane can be opened using the "Custom Frames: Open" command.` });
    info.createEl("br");
    info.createSpan({ text: "Note that Obsidian has to be restarted or reloaded to activate a newly added frame.", cls: "mod-warning" });
    let addDiv = this.containerEl.createDiv();
    let dropdown = new import_obsidian.DropdownComponent(addDiv);
    dropdown.addOption("new", "Custom");
    for (let key of Object.keys(presets))
      dropdown.addOption(key, presets[key].displayName);
    new import_obsidian.ButtonComponent(addDiv).setButtonText("Add Frame").setClass("custom-frames-add").onClick(() => __async(this, null, function* () {
      let option = dropdown.getValue();
      if (option == "new") {
        this.plugin.settings.frames.push({
          url: "",
          displayName: "New Frame",
          icon: "",
          zoomLevel: 1,
          customCss: "",
          hideOnMobile: true
        });
      } else {
        this.plugin.settings.frames.push(presets[option]);
      }
      yield this.plugin.saveSettings();
      this.display();
    }));
    this.containerEl.createEl("hr");
    this.containerEl.createEl("p", { text: "If you like this plugin and want to support its development, you can do so through my website by clicking this fancy image!" });
    this.containerEl.createEl("a", { href: "https://ellpeck.de/support" }).createEl("img", { attr: { src: "https://ellpeck.de/res/generalsupport.png" }, cls: "custom-frames-support" });
  }
};

// src/view.ts
var import_obsidian2 = __toModule(require("obsidian"));
var _CustomFrameView = class extends import_obsidian2.ItemView {
  constructor(leaf, settings, data, name) {
    super(leaf);
    this.settings = settings;
    this.data = data;
    this.name = name;
    for (let action of _CustomFrameView.actions)
      this.addAction(action.icon, action.name, () => action.action(this));
  }
  onload() {
    this.contentEl.empty();
    this.contentEl.addClass("custom-frames-view");
    let style = `padding: ${this.settings.padding}px;`;
    if (import_obsidian2.Platform.isDesktopApp) {
      this.frame = document.createElement("webview");
      this.frame.setAttribute("allowpopups", "");
      this.frame.addEventListener("dom-ready", () => {
        this.frame.setZoomFactor(this.data.zoomLevel);
        this.frame.insertCSS(this.data.customCss);
      });
    } else {
      this.frame = document.createElement("iframe");
      this.frame.setAttribute("sandbox", "allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-top-navigation-by-user-activation");
      this.frame.setAttribute("allow", "encrypted-media; fullscreen; oversized-images; picture-in-picture; sync-xhr; geolocation;");
      style += `transform: scale(${this.data.zoomLevel}); transform-origin: 0 0;`;
    }
    this.frame.addClass("custom-frames-frame");
    this.frame.setAttribute("style", style);
    this.frame.setAttribute("src", this.data.url);
    this.contentEl.appendChild(this.frame);
  }
  onHeaderMenu(menu) {
    super.onHeaderMenu(menu);
    for (let action of _CustomFrameView.actions) {
      menu.addItem((i) => {
        i.setTitle(action.name);
        i.setIcon(action.icon);
        i.onClick(() => action.action(this));
      });
    }
  }
  getViewType() {
    return this.name;
  }
  getDisplayText() {
    return this.data.displayName;
  }
  getIcon() {
    return this.data.icon ? `lucide-${this.data.icon}` : "documents";
  }
  refresh() {
    if (this.frame instanceof HTMLIFrameElement) {
      this.frame.contentWindow.location.reload();
    } else {
      this.frame.reload();
    }
  }
  return() {
    if (this.frame instanceof HTMLIFrameElement) {
      this.frame.contentWindow.open(this.data.url);
    } else {
      this.frame.loadURL(this.data.url);
    }
  }
  goBack() {
    if (this.frame instanceof HTMLIFrameElement) {
      this.frame.contentWindow.history.back();
    } else {
      this.frame.goBack();
    }
  }
  goForward() {
    if (this.frame instanceof HTMLIFrameElement) {
      this.frame.contentWindow.history.forward();
    } else {
      this.frame.goForward();
    }
  }
  toggleDevTools() {
    if (!(this.frame instanceof HTMLIFrameElement)) {
      if (!this.frame.isDevToolsOpened()) {
        this.frame.openDevTools();
      } else {
        this.frame.closeDevTools();
      }
    }
  }
  copyLink() {
    let link = this.frame instanceof HTMLIFrameElement ? this.frame.contentWindow.location.href : this.frame.getURL();
    navigator.clipboard.writeText(link);
  }
};
var CustomFrameView = _CustomFrameView;
CustomFrameView.actions = [
  {
    name: "Return to original page",
    icon: "home",
    action: (v) => v.return()
  },
  {
    name: "Open dev tools",
    icon: "binary",
    action: (v) => v.toggleDevTools()
  },
  {
    name: "Copy link",
    icon: "link",
    action: (v) => v.copyLink()
  },
  {
    name: "Refresh",
    icon: "refresh-cw",
    action: (v) => v.refresh()
  },
  {
    name: "Go back",
    icon: "arrow-left",
    action: (v) => v.goBack()
  },
  {
    name: "Go forward",
    icon: "arrow-right",
    action: (v) => v.goForward()
  }
];

// src/main.ts
var CustomFramesPlugin = class extends import_obsidian3.Plugin {
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      for (let frame of this.settings.frames) {
        if (!frame.url || !frame.displayName)
          continue;
        let name = `custom-frames-${frame.displayName.toLowerCase().replace(/\s/g, "-")}`;
        if (import_obsidian3.Platform.isMobileApp && frame.hideOnMobile) {
          console.log(`Skipping frame ${name} which is hidden on mobile`);
          continue;
        }
        try {
          console.log(`Registering frame ${name} for URL ${frame.url}`);
          this.registerView(name, (l) => new CustomFrameView(l, this.settings, frame, name));
          this.addCommand({
            id: `open-${name}`,
            name: `Open ${frame.displayName}`,
            callback: () => this.openLeaf(name)
          });
        } catch (e) {
          console.error(`Couldn't register frame ${name}, is there already one with the same name?`);
        }
      }
      this.addSettingTab(new CustomFramesSettingTab(this.app, this));
    });
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, defaultSettings, yield this.loadData());
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
  openLeaf(name) {
    return __async(this, null, function* () {
      if (!this.app.workspace.getLeavesOfType(name).length)
        yield this.app.workspace.getRightLeaf(false).setViewState({ type: name });
      this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(name)[0]);
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy9zZXR0aW5ncy10YWIudHMiLCAic3JjL3ZpZXcudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgUGxhdGZvcm0gfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgQ3VzdG9tRnJhbWVzU2V0dGluZ3MsIGRlZmF1bHRTZXR0aW5ncyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XHJcbmltcG9ydCB7IEN1c3RvbUZyYW1lc1NldHRpbmdUYWIgfSBmcm9tIFwiLi9zZXR0aW5ncy10YWJcIjtcclxuaW1wb3J0IHsgQ3VzdG9tRnJhbWVWaWV3IH0gZnJvbSBcIi4vdmlld1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3VzdG9tRnJhbWVzUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHJcblx0c2V0dGluZ3M6IEN1c3RvbUZyYW1lc1NldHRpbmdzO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdGZvciAobGV0IGZyYW1lIG9mIHRoaXMuc2V0dGluZ3MuZnJhbWVzKSB7XHJcblx0XHRcdGlmICghZnJhbWUudXJsIHx8ICFmcmFtZS5kaXNwbGF5TmFtZSlcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0bGV0IG5hbWUgPSBgY3VzdG9tLWZyYW1lcy0ke2ZyYW1lLmRpc3BsYXlOYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csIFwiLVwiKX1gO1xyXG5cdFx0XHRpZiAoUGxhdGZvcm0uaXNNb2JpbGVBcHAgJiYgZnJhbWUuaGlkZU9uTW9iaWxlKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coYFNraXBwaW5nIGZyYW1lICR7bmFtZX0gd2hpY2ggaXMgaGlkZGVuIG9uIG1vYmlsZWApO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coYFJlZ2lzdGVyaW5nIGZyYW1lICR7bmFtZX0gZm9yIFVSTCAke2ZyYW1lLnVybH1gKTtcclxuXHJcblx0XHRcdFx0dGhpcy5yZWdpc3RlclZpZXcobmFtZSwgbCA9PiBuZXcgQ3VzdG9tRnJhbWVWaWV3KGwsIHRoaXMuc2V0dGluZ3MsIGZyYW1lLCBuYW1lKSk7XHJcblx0XHRcdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0XHRcdGlkOiBgb3Blbi0ke25hbWV9YCxcclxuXHRcdFx0XHRcdG5hbWU6IGBPcGVuICR7ZnJhbWUuZGlzcGxheU5hbWV9YCxcclxuXHRcdFx0XHRcdGNhbGxiYWNrOiAoKSA9PiB0aGlzLm9wZW5MZWFmKG5hbWUpLFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGNhdGNoIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGBDb3VsZG4ndCByZWdpc3RlciBmcmFtZSAke25hbWV9LCBpcyB0aGVyZSBhbHJlYWR5IG9uZSB3aXRoIHRoZSBzYW1lIG5hbWU/YCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEN1c3RvbUZyYW1lc1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0U2V0dGluZ3MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBvcGVuTGVhZihuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGlmICghdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShuYW1lKS5sZW5ndGgpXHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpLnNldFZpZXdTdGF0ZSh7IHR5cGU6IG5hbWUgfSk7XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZih0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKG5hbWUpWzBdKTtcclxuXHR9XHJcbn0iLCAiZXhwb3J0IGNvbnN0IGRlZmF1bHRTZXR0aW5nczogQ3VzdG9tRnJhbWVzU2V0dGluZ3MgPSB7XHJcbiAgICBmcmFtZXM6IFtdLFxyXG4gICAgcGFkZGluZzogNVxyXG59O1xyXG5leHBvcnQgY29uc3QgcHJlc2V0czogUmVjb3JkPHN0cmluZywgQ3VzdG9tRnJhbWU+ID0ge1xyXG4gICAgXCJvYnNpZGlhblwiOiB7XHJcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vZm9ydW0ub2JzaWRpYW4ubWQvXCIsXHJcbiAgICAgICAgZGlzcGxheU5hbWU6IFwiT2JzaWRpYW4gRm9ydW1cIixcclxuICAgICAgICBpY29uOiBcImVkaXRcIixcclxuICAgICAgICBoaWRlT25Nb2JpbGU6IHRydWUsXHJcbiAgICAgICAgem9vbUxldmVsOiAxLFxyXG4gICAgICAgIGN1c3RvbUNzczogXCJcIlxyXG4gICAgfSxcclxuICAgIFwiY2FsZW5kYXJcIjoge1xyXG4gICAgICAgIHVybDogXCJodHRwczovL2NhbGVuZGFyLmdvb2dsZS5jb20vY2FsZW5kYXIvdS8wL3IvZGF5XCIsXHJcbiAgICAgICAgZGlzcGxheU5hbWU6IFwiR29vZ2xlIENhbGVuZGFyXCIsXHJcbiAgICAgICAgaWNvbjogXCJjYWxlbmRhclwiLFxyXG4gICAgICAgIGhpZGVPbk1vYmlsZTogdHJ1ZSxcclxuICAgICAgICB6b29tTGV2ZWw6IDEsXHJcbiAgICAgICAgY3VzdG9tQ3NzOiBgLyogaGlkZSByaWdodC1zaWRlIG1lbnUsIGFuZCBzb21lIGJ1dHRvbnMgKi9cclxuZGl2LmQ2TWNGLFxyXG5kaXYucHc2Y0JiLFxyXG5kaXYuZ2JfVGQuZ2JfVmEuZ2JfSWQsXHJcbmRpdi5LazdsTWMtUVdQeGtmLUxnYnNTZS1oYUFjbGYsXHJcbmRpdi5oOEFxaGIsXHJcbmRpdi5nYm9FQWIsXHJcbmRpdi5kd2x2TmQge1xyXG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xyXG59YFxyXG4gICAgfSxcclxuICAgIFwia2VlcFwiOiB7XHJcbiAgICAgICAgdXJsOiBcImh0dHBzOi8va2VlcC5nb29nbGUuY29tXCIsXHJcbiAgICAgICAgZGlzcGxheU5hbWU6IFwiR29vZ2xlIEtlZXBcIixcclxuICAgICAgICBpY29uOiBcImZpbGVzXCIsXHJcbiAgICAgICAgaGlkZU9uTW9iaWxlOiB0cnVlLFxyXG4gICAgICAgIHpvb21MZXZlbDogMSxcclxuICAgICAgICBjdXN0b21Dc3M6IGAvKiBoaWRlIHRoZSBtZW51IGJhciBhbmQgdGhlIFwiS2VlcFwiIHRleHQgKi9cclxuaHRtbCA+IGJvZHkgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpmaXJzdC1jaGlsZCwgXHJcbmh0bWwgPiBib2R5ID4gZGl2OmZpcnN0LWNoaWxkID4gaGVhZGVyOmZpcnN0LWNoaWxkID4gZGl2ID4gZGl2OmZpcnN0LWNoaWxkID4gZGl2ID4gZGl2OmZpcnN0LWNoaWxkID4gYTpmaXJzdC1jaGlsZCA+IHNwYW4geyBcclxuXHRkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IFxyXG59YFxyXG4gICAgfSxcclxuICAgIFwidG9kb2lzdFwiOiB7XHJcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vdG9kb2lzdC5jb21cIixcclxuICAgICAgICBkaXNwbGF5TmFtZTogXCJUb2RvaXN0XCIsXHJcbiAgICAgICAgaWNvbjogXCJsaXN0LWNoZWNrc1wiLFxyXG4gICAgICAgIGhpZGVPbk1vYmlsZTogdHJ1ZSxcclxuICAgICAgICB6b29tTGV2ZWw6IDEsXHJcbiAgICAgICAgY3VzdG9tQ3NzOiBgLyogaGlkZSB0aGUgaGVscCwgaG9tZSwgc2VhcmNoLCBhbmQgcHJvZHVjdGl2aXR5IG92ZXJ2aWV3IGJ1dHRvbnMsIGNyZWF0ZSBleHRyYSBzcGFjZSwgYW5kIHByZXZlbnQgdG9hc3QgcG9wLXVwIGZyb20gYWN0aW5nIHdlaXJkICovXHJcblthcmlhLWxhYmVsPVwiR28gdG8gSG9tZSB2aWV3XCJdLCAjcXVpY2tfZmluZCwgW2FyaWEtbGFiZWw9XCJQcm9kdWN0aXZpdHlcIl0sIFthcmlhLWxhYmVsPVwiSGVscCAmIEZlZWRiYWNrXCJdIHtcclxuXHRkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi52aWV3X2NvbnRlbnQge1xyXG5cdHBhZGRpbmctbGVmdDogMTVweDtcclxufVxyXG5cclxuLnZpZXdfaGVhZGVyIHtcclxuXHRwYWRkaW5nLWxlZnQ6IDE1cHg7XHJcblx0cGFkZGluZy10b3A6IDEwcHg7XHJcbn1cclxuXHJcbi51bmRvX3RvYXN0IHtcclxuXHR3aWR0aDogOTUlO1xyXG59YFxyXG4gICAgfSxcclxuICAgIFwibm90aW9uXCI6IHtcclxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly93d3cubm90aW9uLnNvL1wiLFxyXG4gICAgICAgIGRpc3BsYXlOYW1lOiBcIk5vdGlvblwiLFxyXG4gICAgICAgIGljb246IFwiYm94XCIsXHJcbiAgICAgICAgaGlkZU9uTW9iaWxlOiB0cnVlLFxyXG4gICAgICAgIHpvb21MZXZlbDogMSxcclxuICAgICAgICBjdXN0b21Dc3M6IFwiXCJcclxuICAgIH0sXHJcbiAgICBcInR3aXR0ZXJcIjoge1xyXG4gICAgICAgIHVybDogXCJodHRwczovL3R3aXR0ZXIuY29tXCIsXHJcbiAgICAgICAgZGlzcGxheU5hbWU6IFwiVHdpdHRlclwiLFxyXG4gICAgICAgIGljb246IFwidHdpdHRlclwiLFxyXG4gICAgICAgIGhpZGVPbk1vYmlsZTogdHJ1ZSxcclxuICAgICAgICB6b29tTGV2ZWw6IDEsXHJcbiAgICAgICAgY3VzdG9tQ3NzOiBcIlwiXHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbUZyYW1lc1NldHRpbmdzIHtcclxuICAgIGZyYW1lczogQ3VzdG9tRnJhbWVbXTtcclxuICAgIHBhZGRpbmc6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21GcmFtZSB7XHJcbiAgICB1cmw6IHN0cmluZztcclxuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmc7XHJcbiAgICBpY29uOiBzdHJpbmc7XHJcbiAgICBoaWRlT25Nb2JpbGU6IGJvb2xlYW47XHJcbiAgICB6b29tTGV2ZWw6IG51bWJlcjtcclxuICAgIGN1c3RvbUNzczogc3RyaW5nO1xyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIEJ1dHRvbkNvbXBvbmVudCwgRHJvcGRvd25Db21wb25lbnQsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgZGVmYXVsdFNldHRpbmdzLCBwcmVzZXRzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcclxuaW1wb3J0IEN1c3RvbUZyYW1lc1BsdWdpbiBmcm9tIFwiLi9tYWluXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3VzdG9tRnJhbWVzU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cclxuICAgIHBsdWdpbjogQ3VzdG9tRnJhbWVzUGx1Z2luO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEN1c3RvbUZyYW1lc1BsdWdpbikge1xyXG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIkN1c3RvbSBGcmFtZXMgU2V0dGluZ3NcIiB9KTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7IHRleHQ6IFwiTm90ZSB0aGF0IE9ic2lkaWFuIGhhcyB0byBiZSByZXN0YXJ0ZWQgb3IgcmVsb2FkZWQgZm9yIG1vc3Qgb2YgdGhlc2Ugc2V0dGluZ3MgdG8gdGFrZSBlZmZlY3QuXCIsIGNsczogXCJtb2Qtd2FybmluZ1wiIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkZyYW1lIFBhZGRpbmdcIilcclxuICAgICAgICAgICAgLnNldERlc2MoY3JlYXRlRnJhZ21lbnQoZiA9PiB7XHJcbiAgICAgICAgICAgICAgICBmLmNyZWF0ZVNwYW4oeyB0ZXh0OiBcIlRoZSBwYWRkaW5nIHRoYXQgc2hvdWxkIGJlIGxlZnQgYXJvdW5kIHRoZSBpbnNpZGUgb2YgY3VzdG9tIGZyYW1lIHBhbmVzLCBpbiBwaXhlbHMuXCIgfSk7XHJcbiAgICAgICAgICAgICAgICBmLmNyZWF0ZUVsKFwiYnJcIik7XHJcbiAgICAgICAgICAgICAgICBmLmNyZWF0ZUVsKFwiZW1cIiwgeyB0ZXh0OiBcIk5vdGUgdGhhdCBkZWNyZWFzaW5nIHRoaXMgcGFkZGluZyB0b28gbXVjaCB3aWxsIGluY3JlYXNlIHRoZSBsaWtlbGlob29kIG9mIGEgXCIgfSk7XHJcbiAgICAgICAgICAgICAgICBmLmNyZWF0ZUVsKFwiYVwiLCB7IHRleHQ6IFwia25vd24gaXNzdWVcIiwgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vRWxscGVjay9PYnNpZGlhbkN1c3RvbUZyYW1lcyMlRUYlQjglOEYta25vd24taXNzdWVzXCIgfSk7XHJcbiAgICAgICAgICAgICAgICBmLmNyZWF0ZUVsKFwiZW1cIiwgeyB0ZXh0OiBcIi5cIiB9KTtcclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0KHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdC5pbnB1dEVsLnR5cGUgPSBcIm51bWJlclwiO1xyXG4gICAgICAgICAgICAgICAgdC5zZXRWYWx1ZShTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3MucGFkZGluZykpO1xyXG4gICAgICAgICAgICAgICAgdC5vbkNoYW5nZShhc3luYyB2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYWRkaW5nID0gdi5sZW5ndGggPyBOdW1iZXIodikgOiBkZWZhdWx0U2V0dGluZ3MucGFkZGluZztcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgZnJhbWUgb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZnJhbWVzKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWFkaW5nID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogZnJhbWUuZGlzcGxheU5hbWUgfHwgXCJVbm5hbWVkIEZyYW1lXCIgfSk7XHJcbiAgICAgICAgICAgIGxldCB0b2dnbGUgPSBuZXcgQnV0dG9uQ29tcG9uZW50KHRoaXMuY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIlNob3cgU2V0dGluZ3NcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcImN1c3RvbS1mcmFtZXMtc2hvd1wiKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuaGlkZGVuID0gIWNvbnRlbnQuaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZS5zZXRCdXR0b25UZXh0KGNvbnRlbnQuaGlkZGVuID8gXCJTaG93IFNldHRpbmdzXCIgOiBcIkhpZGUgU2V0dGluZ3NcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdigpO1xyXG4gICAgICAgICAgICBjb250ZW50LmhpZGRlbiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50KVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJEaXNwbGF5IE5hbWVcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiVGhlIGRpc3BsYXkgbmFtZSB0aGF0IHRoaXMgZnJhbWUgc2hvdWxkIGhhdmUuXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCh0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0LnNldFZhbHVlKGZyYW1lLmRpc3BsYXlOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB0Lm9uQ2hhbmdlKGFzeW5jIHYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5kaXNwbGF5TmFtZSA9IHY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmcuc2V0VGV4dChmcmFtZS5kaXNwbGF5TmFtZSB8fCBcIlVubmFtZWQgRnJhbWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnQpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKGNyZWF0ZUZyYWdtZW50KGYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGYuY3JlYXRlU3Bhbih7IHRleHQ6IFwiVGhlIGljb24gdGhhdCB0aGlzIGZyYW1lJ3MgcGFuZSBzaG91bGQgaGF2ZS4gVGhlIG5hbWVzIG9mIGFueSBcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICBmLmNyZWF0ZUVsKFwiYVwiLCB7IHRleHQ6IFwiTHVjaWRlIGljb25zXCIsIGhyZWY6IFwiaHR0cHM6Ly9sdWNpZGUuZGV2L1wiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGYuY3JlYXRlU3Bhbih7IHRleHQ6IFwiIGNhbiBiZSB1c2VkLlwiIH0pO1xyXG4gICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCh0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0LnNldFZhbHVlKGZyYW1lLmljb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHQub25DaGFuZ2UoYXN5bmMgdiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLmljb24gPSB2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50KVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJVUkxcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiVGhlIFVSTCB0aGF0IHNob3VsZCBiZSBvcGVuZWQgaW4gdGhpcyBmcmFtZS5cIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHQuc2V0VmFsdWUoZnJhbWUudXJsKTtcclxuICAgICAgICAgICAgICAgICAgICB0Lm9uQ2hhbmdlKGFzeW5jIHYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS51cmwgPSB2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50KVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJEaXNhYmxlIG9uIE1vYmlsZVwiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJDdXN0b20gRnJhbWVzIGlzIGEgbG90IG1vcmUgcmVzdHJpY3RlZCBvbiBtb2JpbGUgZGV2aWNlcyBhbmQgZG9lc24ndCBhbGxvdyBmb3IgdGhlIHNhbWUgdHlwZXMgb2YgY29udGVudCB0byBiZSBkaXNwbGF5ZWQuIElmIGEgZnJhbWUgZG9lc24ndCB3b3JrIGFzIGV4cGVjdGVkIG9uIG1vYmlsZSwgaXQgY2FuIGJlIGRpc2FibGVkLlwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSh0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0LnNldFZhbHVlKGZyYW1lLmhpZGVPbk1vYmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5vbkNoYW5nZShhc3luYyB2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUuaGlkZU9uTW9iaWxlID0gdjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGVudClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUGFnZSBab29tXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIlRoZSB6b29tIHRoYXQgdGhpcyBmcmFtZSdzIHBhZ2Ugc2hvdWxkIGJlIGRpc3BsYXllZCB3aXRoLCBhcyBhIHBlcmNlbnRhZ2UuXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCh0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0LmlucHV0RWwudHlwZSA9IFwibnVtYmVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5zZXRWYWx1ZShTdHJpbmcoZnJhbWUuem9vbUxldmVsICogMTAwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5vbkNoYW5nZShhc3luYyB2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUuem9vbUxldmVsID0gdi5sZW5ndGggPyBOdW1iZXIodikgLyAxMDAgOiAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50KVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJBZGRpdGlvbmFsIENTU1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoY3JlYXRlRnJhZ21lbnQoZiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZi5jcmVhdGVTcGFuKHsgdGV4dDogXCJBIHNuaXBwZXQgb2YgYWRkaXRpb25hbCBDU1MgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGlzIGZyYW1lLlwiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGYuY3JlYXRlRWwoXCJiclwiKTtcclxuICAgICAgICAgICAgICAgICAgICBmLmNyZWF0ZUVsKFwiZW1cIiwgeyB0ZXh0OiBcIk5vdGUgdGhhdCB0aGlzIGlzIG9ubHkgYXBwbGllZCBvbiBEZXNrdG9wLlwiIH0pO1xyXG4gICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dEFyZWEodCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5pbnB1dEVsLnJvd3MgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgIHQuaW5wdXRFbC5jb2xzID0gNTA7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5zZXRWYWx1ZShmcmFtZS5jdXN0b21Dc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHQub25DaGFuZ2UoYXN5bmMgdiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLmN1c3RvbUNzcyA9IHY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoY29udGVudClcclxuICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiUmVtb3ZlIEZyYW1lXCIpXHJcbiAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZnJhbWVzLnJlbW92ZShmcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoclwiKTtcclxuICAgICAgICBsZXQgaW5mbyA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHsgdGV4dDogXCJDcmVhdGUgYSBuZXcgZnJhbWUsIGVpdGhlciBmcm9tIGEgcHJlc2V0IHNoaXBwZWQgd2l0aCB0aGUgcGx1Z2luLCBvciBhIGN1c3RvbSBvbmUgdGhhdCB5b3UgY2FuIGVkaXQgeW91cnNlbGYuIEVhY2ggZnJhbWUncyBwYW5lIGNhbiBiZSBvcGVuZWQgdXNpbmcgdGhlIFxcXCJDdXN0b20gRnJhbWVzOiBPcGVuXFxcIiBjb21tYW5kLlwiIH0pO1xyXG4gICAgICAgIGluZm8uY3JlYXRlRWwoXCJiclwiKTtcclxuICAgICAgICBpbmZvLmNyZWF0ZVNwYW4oeyB0ZXh0OiBcIk5vdGUgdGhhdCBPYnNpZGlhbiBoYXMgdG8gYmUgcmVzdGFydGVkIG9yIHJlbG9hZGVkIHRvIGFjdGl2YXRlIGEgbmV3bHkgYWRkZWQgZnJhbWUuXCIsIGNsczogXCJtb2Qtd2FybmluZ1wiIH0pO1xyXG5cclxuICAgICAgICBsZXQgYWRkRGl2ID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoKTtcclxuICAgICAgICBsZXQgZHJvcGRvd24gPSBuZXcgRHJvcGRvd25Db21wb25lbnQoYWRkRGl2KTtcclxuICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oXCJuZXdcIiwgXCJDdXN0b21cIik7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHByZXNldHMpKVxyXG4gICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oa2V5LCBwcmVzZXRzW2tleV0uZGlzcGxheU5hbWUpO1xyXG4gICAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoYWRkRGl2KVxyXG4gICAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIkFkZCBGcmFtZVwiKVxyXG4gICAgICAgICAgICAuc2V0Q2xhc3MoXCJjdXN0b20tZnJhbWVzLWFkZFwiKVxyXG4gICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9uID0gZHJvcGRvd24uZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb24gPT0gXCJuZXdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmZyYW1lcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogXCJOZXcgRnJhbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3M6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVPbk1vYmlsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZnJhbWVzLnB1c2gocHJlc2V0c1tvcHRpb25dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaHJcIik7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwgeyB0ZXh0OiBcIklmIHlvdSBsaWtlIHRoaXMgcGx1Z2luIGFuZCB3YW50IHRvIHN1cHBvcnQgaXRzIGRldmVsb3BtZW50LCB5b3UgY2FuIGRvIHNvIHRocm91Z2ggbXkgd2Vic2l0ZSBieSBjbGlja2luZyB0aGlzIGZhbmN5IGltYWdlIVwiIH0pO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJhXCIsIHsgaHJlZjogXCJodHRwczovL2VsbHBlY2suZGUvc3VwcG9ydFwiIH0pXHJcbiAgICAgICAgICAgIC5jcmVhdGVFbChcImltZ1wiLCB7IGF0dHI6IHsgc3JjOiBcImh0dHBzOi8vZWxscGVjay5kZS9yZXMvZ2VuZXJhbHN1cHBvcnQucG5nXCIgfSwgY2xzOiBcImN1c3RvbS1mcmFtZXMtc3VwcG9ydFwiIH0pO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmLCBQbGF0Zm9ybSwgTWVudSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBDdXN0b21GcmFtZSwgQ3VzdG9tRnJhbWVzU2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEN1c3RvbUZyYW1lVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBhY3Rpb25zOiBBY3Rpb25bXSA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6IFwiUmV0dXJuIHRvIG9yaWdpbmFsIHBhZ2VcIixcclxuICAgICAgICAgICAgaWNvbjogXCJob21lXCIsXHJcbiAgICAgICAgICAgIGFjdGlvbjogdiA9PiB2LnJldHVybigpXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBuYW1lOiBcIk9wZW4gZGV2IHRvb2xzXCIsXHJcbiAgICAgICAgICAgIGljb246IFwiYmluYXJ5XCIsXHJcbiAgICAgICAgICAgIGFjdGlvbjogdiA9PiB2LnRvZ2dsZURldlRvb2xzKClcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIG5hbWU6IFwiQ29weSBsaW5rXCIsXHJcbiAgICAgICAgICAgIGljb246IFwibGlua1wiLFxyXG4gICAgICAgICAgICBhY3Rpb246IHYgPT4gdi5jb3B5TGluaygpXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBuYW1lOiBcIlJlZnJlc2hcIixcclxuICAgICAgICAgICAgaWNvbjogXCJyZWZyZXNoLWN3XCIsXHJcbiAgICAgICAgICAgIGFjdGlvbjogdiA9PiB2LnJlZnJlc2goKVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgbmFtZTogXCJHbyBiYWNrXCIsXHJcbiAgICAgICAgICAgIGljb246IFwiYXJyb3ctbGVmdFwiLFxyXG4gICAgICAgICAgICBhY3Rpb246IHYgPT4gdi5nb0JhY2soKVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgbmFtZTogXCJHbyBmb3J3YXJkXCIsXHJcbiAgICAgICAgICAgIGljb246IFwiYXJyb3ctcmlnaHRcIixcclxuICAgICAgICAgICAgYWN0aW9uOiB2ID0+IHYuZ29Gb3J3YXJkKClcclxuICAgICAgICB9XHJcbiAgICBdO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2V0dGluZ3M6IEN1c3RvbUZyYW1lc1NldHRpbmdzO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBkYXRhOiBDdXN0b21GcmFtZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQgfCBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgc2V0dGluZ3M6IEN1c3RvbUZyYW1lc1NldHRpbmdzLCBkYXRhOiBDdXN0b21GcmFtZSwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIobGVhZik7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgYWN0aW9uIG9mIEN1c3RvbUZyYW1lVmlldy5hY3Rpb25zKVxyXG4gICAgICAgICAgICB0aGlzLmFkZEFjdGlvbihhY3Rpb24uaWNvbiwgYWN0aW9uLm5hbWUsICgpID0+IGFjdGlvbi5hY3Rpb24odGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIG9ubG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuY29udGVudEVsLmFkZENsYXNzKFwiY3VzdG9tLWZyYW1lcy12aWV3XCIpO1xyXG5cclxuICAgICAgICBsZXQgc3R5bGUgPSBgcGFkZGluZzogJHt0aGlzLnNldHRpbmdzLnBhZGRpbmd9cHg7YDtcclxuICAgICAgICBpZiAoUGxhdGZvcm0uaXNEZXNrdG9wQXBwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwid2Vidmlld1wiKTtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZS5zZXRBdHRyaWJ1dGUoXCJhbGxvd3BvcHVwc1wiLCBcIlwiKTtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZS5hZGRFdmVudExpc3RlbmVyKFwiZG9tLXJlYWR5XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuc2V0Wm9vbUZhY3Rvcih0aGlzLmRhdGEuem9vbUxldmVsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuaW5zZXJ0Q1NTKHRoaXMuZGF0YS5jdXN0b21Dc3MpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmZyYW1lLnNldEF0dHJpYnV0ZShcInNhbmRib3hcIiwgXCJhbGxvdy1mb3JtcyBhbGxvdy1tb2RhbHMgYWxsb3ctcG9wdXBzIGFsbG93LXByZXNlbnRhdGlvbiBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIGFsbG93LXRvcC1uYXZpZ2F0aW9uLWJ5LXVzZXItYWN0aXZhdGlvblwiKTtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZS5zZXRBdHRyaWJ1dGUoXCJhbGxvd1wiLCBcImVuY3J5cHRlZC1tZWRpYTsgZnVsbHNjcmVlbjsgb3ZlcnNpemVkLWltYWdlczsgcGljdHVyZS1pbi1waWN0dXJlOyBzeW5jLXhocjsgZ2VvbG9jYXRpb247XCIpO1xyXG4gICAgICAgICAgICBzdHlsZSArPSBgdHJhbnNmb3JtOiBzY2FsZSgke3RoaXMuZGF0YS56b29tTGV2ZWx9KTsgdHJhbnNmb3JtLW9yaWdpbjogMCAwO2A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZnJhbWUuYWRkQ2xhc3MoXCJjdXN0b20tZnJhbWVzLWZyYW1lXCIpO1xyXG4gICAgICAgIHRoaXMuZnJhbWUuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgc3R5bGUpO1xyXG4gICAgICAgIHRoaXMuZnJhbWUuc2V0QXR0cmlidXRlKFwic3JjXCIsIHRoaXMuZGF0YS51cmwpO1xyXG4gICAgICAgIHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uSGVhZGVyTWVudShtZW51OiBNZW51KTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIub25IZWFkZXJNZW51KG1lbnUpO1xyXG4gICAgICAgIGZvciAobGV0IGFjdGlvbiBvZiBDdXN0b21GcmFtZVZpZXcuYWN0aW9ucykge1xyXG4gICAgICAgICAgICBtZW51LmFkZEl0ZW0oaSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpLnNldFRpdGxlKGFjdGlvbi5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGkuc2V0SWNvbihhY3Rpb24uaWNvbik7XHJcbiAgICAgICAgICAgICAgICBpLm9uQ2xpY2soKCkgPT4gYWN0aW9uLmFjdGlvbih0aGlzKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRpc3BsYXlOYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEljb24oKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmljb24gPyBgbHVjaWRlLSR7dGhpcy5kYXRhLmljb259YCA6IFwiZG9jdW1lbnRzXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWZyZXNoKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmZyYW1lIGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZS5jb250ZW50V2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWUucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmV0dXJuKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmZyYW1lIGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZS5jb250ZW50V2luZG93Lm9wZW4odGhpcy5kYXRhLnVybCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZS5sb2FkVVJMKHRoaXMuZGF0YS51cmwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdvQmFjaygpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5mcmFtZSBpbnN0YW5jZW9mIEhUTUxJRnJhbWVFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuY29udGVudFdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuZ29CYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ29Gb3J3YXJkKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmZyYW1lIGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZS5jb250ZW50V2luZG93Lmhpc3RvcnkuZm9yd2FyZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZS5nb0ZvcndhcmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0b2dnbGVEZXZUb29scygpOiB2b2lkIHtcclxuICAgICAgICBpZiAoISh0aGlzLmZyYW1lIGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5mcmFtZS5pc0RldlRvb2xzT3BlbmVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUub3BlbkRldlRvb2xzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lLmNsb3NlRGV2VG9vbHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvcHlMaW5rKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBsaW5rID0gdGhpcy5mcmFtZSBpbnN0YW5jZW9mIEhUTUxJRnJhbWVFbGVtZW50ID8gdGhpcy5mcmFtZS5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWYgOiB0aGlzLmZyYW1lLmdldFVSTCgpO1xyXG4gICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGxpbmspO1xyXG4gICAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQWN0aW9uIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIGljb246IHN0cmluZztcclxuICAgIGFjdGlvbjogKHZpZXc6IEN1c3RvbUZyYW1lVmlldykgPT4gYW55O1xyXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBLHVCQUFpQzs7O0FDQTFCLElBQU0sa0JBQXdDO0FBQUEsRUFDakQsUUFBUTtBQUFBLEVBQ1IsU0FBUztBQUFBO0FBRU4sSUFBTSxVQUF1QztBQUFBLEVBQ2hELFlBQVk7QUFBQSxJQUNSLEtBQUs7QUFBQSxJQUNMLGFBQWE7QUFBQSxJQUNi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
